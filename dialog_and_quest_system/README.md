### Финальный проект по курсу ООП: "Система диалогов и квестов"

Описание проекта и ТЗ описаны в сопутствующем pdf-файле. Ниже приведена информация о том, как протестировать полученную программу.

Сборку/запуск можно произвести следующими способами:
1) запустив jar-файл dialog_and_quest_system.jar рядом с папкой data, написав в командной строке "java -jar dialog_and_quest_system.jar" (jar-файл был сгенерирован с помощью maven на windows; в случае проблем с его запуском рекомендуется использовать способы ниже);
2) собрав проект в среде разработки Intellij Idea (все настройки для правильной сборки есть);
3) используя maven (для сборки нужна только папка src и pom.xml, для запуска - data и charset_info.txt).

ВАЖНОЕ ЗАМЕЧАНИЕ: из-за проблем с кодировками программа может работать не совсем корректно. Информация о кодировке содержится в файле charset_info.txt: первая строка содержит название кодировки, которая используется для ввода и вывода в консоли; вторая - название кодировки для чтения файлов. По умолчанию названия кодировок выставлены для работы в консоли Windows. Для запуска в консоли Intellij Idea на Windows я менял первую кодировку на utf-8.

Туториал:

После запуска программы первым делом посмотрим, какие команды можно использовать для взаимодействия с нашим консольным миром. Введите в консоли 

    /help
Будет выведен список команд, которые можно использовать. Сейчас нас интересует команда /npc_list, которая показывает список персонажей. Введите ее, и будет показан список из четырех персонажей и их id. Теперь мы можем использовать команду /talk, чтобы выбрать персонажа, с которым хотим поговорить. Введите в консоль строку

    /talk 3
С помощью этой команды мы начали диалог с персонажем с id = 3.
Во время диалога не производится обработка команд, которыми мы пользовались раньше. Вместо этого мы можем:
1) выбирать номер фразы из списка, которую хотим сказать персонажу;
2) выбирать фразу путем ввода РОВНО ДВУХ ключевых слов. В данной реализации первое из ключевых слов - это либо "где", либо "расскажи". В качестве второго ключевого слова могут выступать названия квестовых предметов, локаций и персонажей. Однако изначально все вторые ключевые слова заблокированы, поскольку игрок про них не знает.

Итак, поскольку (спойлер) действия в игровом мире происходят на ФКН ВШЭ, то мы можем попробовать попросить персонажа рассказать о ФКН. Введите в консоль

    расскажи ФКН
После ввода команды в консоль будет выведен тот же список вопросов. Дело в том, что "ФКН" также является заблокированным словом, про него изначально ничего нельзя спросить. Для того, чтобы оно разблокировалось, зададим вопрос №2. Введите в консоль

    2
После этого в консоль будет выведен наш вопрос ("Что это за место?"), ответ персонажа на него ("Это - факультет компьютерных наук, сокращенно: ФКН."), а также снова список вопросов. Поскольку игрок теперь знает про ФКН, он может и спросить про него. Снова введем в консоль

    расскажи ФКН
После этого выведется список возможных вопросов, и один из них будет вопросом №6 "Расскажи мне о: ФКН". Это и есть тот самый общий вопрос, который мы теперь можем задавать всем персонажам, поскольку ключевые слова разблокированы. Введите в консоль

    6
чтобы задать этот вопрос, и теперь персонаж более подробно расскажет про ФКН.


Теперь пришло время проиллюстрировать квестовую составляющую и возможности скриптов диалоговой системы. В списке вопросов выберем вопрос "Тебе не нужна какая-либо помощь?", введя в консоль

    3
Персонаж скажет, что ему нужен маркер, и попросит его принести. Согласимся, введя

    1
Теперь среди списка вопросов не будет вопроса про помощь, но будет вариант "Я принес тебе маркер." Выберем его, введя 

    3
Однако, конечно же, у нас нет никакого маркера, а посему единственное, что мы можем сказать при просьбе отдать его - это "Э-э-э, на самом деле у меня нет маркера.", введя 1. Можем попробовать получить наводку, где может быть маркер. Введите

    где маркер
и выберите появившийся вариант в списке вопросов. Однако этот персонаж, что логично, ничего не знает, где можно найти маркер. Попрощаемся с персонажем, выбрав далее фразу "Ладно, пока." 

Теперь мы снова в режиме командной строки. Введите 

    /talk 1
чтобы начать разговор с персонажем с id = 1. Чтобы не растягивать туториал, сразу же спросим его про маркер:

    где маркер
Появится вариант вопроса про маркер, задав который, мы получим его. Выйдем из диалога, сказав "Ладно, пока", и вернувшись таким образом в режим командной строки.

Как мы помним, персонаж игрока имеет id = 0. Поэтому мы можем сейчас заглянуть в свой инвентарь, введя команду

    /show_inventory 0
Будет показан инвентарь, в котором действительно будет маркер. Удалим его командой

    /remove_item 0 1 1
Теперь наш инвентарь пуст (можно убедиться, снова введя команду на просмотр инвентаря). Попробуем вернуться к персонажу с id = 3.

    /talk 3
Снова выберем "Я принес тебе маркер". И хотя мы уже взяли маркер у персонажа с id = 1, но у нас в инвентаре ничего нет, поэтому снова единственное, что мы можем ответить при просьбе отдать его - это то, что на самом деле никакого маркера нет. Выйдем из диалога и введем команду

    /add_item 0 1 1
Маркер снова вернулся в наш инвентарь, и мы можем наконец принести его нужному персонажу. Снова выбрав "Я принес тебе маркер" в диалоге с персонажем с id = 3, увидим, что появился вариант "Вот, держи маркер". Выбрав его, мы получим благодарность персонажа, а маркер переместится из инвентаря игрока в инвентарь персонажа. Введите в консоль снова

    где маркер
Ответом персонажа будет "Да вот же он, ты его сам мне принёс!" Поздравляю, вы прошли ваш первый квест! На этом данный туториал завершается.
